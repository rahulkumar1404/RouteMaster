{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\2317761\\\\OneDrive - Cognizant\\\\RouteMaster-reactjs-springboot\\\\RouteMaster_UI\\\\src\\\\components\\\\BusList.js\";\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\n/**\n * Child component for SearchBus component\n * Renders list of buses on search\n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass BusList extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.calculateDuration = f => {\n      let t1 = new Date('1970-01-01T' + f.departureTime + 'Z');\n      let t2 = new Date('1970-01-01T' + f.arrivalTime + 'Z');\n      let hour = t1.getUTCHours() - t2.getUTCHours();\n      let min = t1.getUTCMinutes() - t2.getUTCMinutes();\n\n      if (hour < 0) {\n        hour = 12 + hour;\n      }\n\n      if (min < 0) {\n        min = 60 + min;\n      }\n\n      return hour + 'hr ' + min + 'min';\n    };\n\n    this.handleBus = bus => {\n      localStorage.setItem('plane', JSON.stringify(bus));\n      this.props.history.push('/booking');\n    };\n\n    this.state = {\n      buses: null\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      buses: this.props.buses\n    });\n    console.log(\"bus list : \" + this.props.buses);\n  }\n  /**\n  * this method calculate travel duration\n  */\n\n\n  render() {\n    if (!this.state.buses) return null;\n    const buslist = this.state.buses.map(f => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card mr-4 mt-4\",\n        style: {\n          width: 350,\n          background: \"#ffffff\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header\",\n          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: [\"Bus \", f.busNumber]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col fw-bold\",\n              children: \"Source\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: f.source\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col fw-bold\",\n              children: \"Destination\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: f.destination\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col fw-bold\",\n              children: \"Travel Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: f.travelDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col fw-bold\",\n              children: \"Starting Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: f.arrivalTime\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col fw-bold\",\n              children: \"Droping Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: f.departureTime\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col fw-bold\",\n              children: \"Duration\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: this.calculateDuration(f)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col fw-bold\",\n              children: \"Fare\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: f.price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col fw-bold\",\n              children: \"Available Seats\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: f.availableSeats\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-dark mr-3\",\n            onClick: () => this.handleBus(f),\n            children: \"Book\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Scheduled Bus\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styling.wrapper,\n        children: buslist\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nlet styling = {\n  wrapper: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  }\n};\nexport default _c = withRouter(BusList);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["C:/Users/2317761/OneDrive - Cognizant/RouteMaster-reactjs-springboot/RouteMaster_UI/src/components/BusList.js"],"names":["React","withRouter","BusList","Component","constructor","props","calculateDuration","f","t1","Date","departureTime","t2","arrivalTime","hour","getUTCHours","min","getUTCMinutes","handleBus","bus","localStorage","setItem","JSON","stringify","history","push","state","buses","componentDidMount","setState","console","log","render","buslist","map","width","background","busNumber","source","destination","travelDate","price","availableSeats","styling","wrapper","display","flexWrap"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { withRouter } from 'react-router-dom';\n\n/**\n * Child component for SearchBus component\n * Renders list of buses on search\n */\nclass BusList extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            buses : null\n        }\n    }\n\n    componentDidMount() {\n        this.setState({\n            buses : this.props.buses\n        });\n        console.log(\"bus list : \" + this.props.buses)\n    }\n\n     /**\n     * this method calculate travel duration\n     */\n      calculateDuration = (f) => {\n        let t1 = new Date('1970-01-01T' + f.departureTime + 'Z')\n        let t2 = new Date('1970-01-01T' + f.arrivalTime + 'Z')\n        let hour = t1.getUTCHours() - t2.getUTCHours()\n        let min = t1.getUTCMinutes() - t2.getUTCMinutes()\n\n        if( hour < 0)\n        {\n            hour = 12+hour\n        }\n        if(min < 0){\n            min = 60+min\n        }\n\n        return (hour +'hr '+min + 'min')\n\n    }\n\n    /** \n     * Store bus data in local storage and redirects to Booking\n     */\n    handleBus = (bus) => {\n        localStorage.setItem('plane', JSON.stringify(bus));\n        this.props.history.push('/booking');\n    }\n\n    render() {\n        if(!this.state.buses)\n            return null;\n \n        const buslist = this.state.buses.map(f => {\n            return (\n                <div className=\"card mr-4 mt-4\" style={{width: 350, background: \"#ffffff\"}}>\n                    \n                    <div className=\"card-header\">\n                        <h5>Bus {f.busNumber}</h5>\n                    </div>\n                    \n                    <div className=\"card-body\">\n                    <div className=\"row mb-2\">\n                        <div className=\"col fw-bold\">Source</div>\n                        <div className=\"col\">{f.source}</div>\n                    </div>\n                    <div className=\"row mb-2\">\n                        <div className=\"col fw-bold\">Destination</div>\n                        <div className=\"col\">{f.destination}</div>\n                    </div>\n                    <div className=\"row mb-2\">\n                        <div className=\"col fw-bold\">Travel Date</div>\n                        <div className=\"col\">{f.travelDate}</div>\n                    </div>  \n                    <div className=\"row mb-2\">\n                        <div className=\"col fw-bold\">Starting Time</div>\n                        <div className=\"col\">{f.arrivalTime}</div>\n                    </div>    \n                    <div className=\"row mb-2\">\n                        <div className=\"col fw-bold\">Droping Time</div>\n                        <div className=\"col\">{f.departureTime}</div>\n                    </div>  \n                    <div className=\"row mb-2\">\n                        <div className=\"col fw-bold\">Duration</div>\n                        <div className=\"col\">{this.calculateDuration(f)}</div>\n                    </div>  \n                    <div className=\"row mb-2\">\n                        <div className=\"col fw-bold\">Fare</div>\n                        <div className=\"col\">{f.price}</div>\n                    </div>  \n                    <div className=\"row mb-2\">\n                        <div className=\"col fw-bold\">Available Seats</div>\n                        <div className=\"col\">{f.availableSeats}</div>\n                    </div>  \n                    <br/>\n                        <button className=\"btn btn-dark mr-3\" onClick={() => this.handleBus(f)} >Book</button>\n                    </div>\n                                            \n                </div>\n            )\n        });\n\n        \n        return (\n            <div>\n                <h4>Scheduled Bus</h4>\n                <div style={styling.wrapper}>\n                    {buslist}\n                </div>\n            </div>\n            \n        );\n        \n        \n    }\n}\n\nlet styling = { \n    wrapper : {\n        display : \"flex\", \n        flexWrap: \"wrap\"\n    }\n}\n\nexport default withRouter (BusList);"]},"metadata":{},"sourceType":"module"}